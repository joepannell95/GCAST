<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GCAST ‚Äî Sports (FAST/FTA)</title>
  <style>
    :root { color-scheme: dark; }
    body { margin:0; background:#0b0d10; color:#e9edf1; font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial; }
    header { padding:14px 16px; display:flex; gap:10px; flex-wrap:wrap; align-items:center; border-bottom:1px solid #1d2633; }
    h1 { font-size:18px; margin:0; }
    select, button { background:#0f141c; color:#e9edf1; border:1px solid #283448; border-radius:10px; padding:10px 12px; }
    main { display:grid; place-items:center; padding:18px; }
    video { width:min(100%,1100px); aspect-ratio:16/9; background:#000; border-radius:16px; border:1px solid #1d2633; }
    .status { font-size:12px; opacity:.9; padding:6px 10px; border-radius:999px; border:1px solid #334155; background:#0f172a; }
    .bad { color:#ffb3b3; border-color:#7f2b2b; }
    .row { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  </style>
</head>
<body>
  <header class="row">
    <h1>üèàüèÄ GCAST ¬∑ Sports</h1>
    <select id="channelList" title="Pick a channel"></select>
    <button id="playBtn">‚ñ∂ Play</button>
    <span id="info" class="status">Loading channels‚Ä¶</span>
  </header>
  <main>
    <video id="player" controls playsinline></video>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/hls.js@1.5.8/dist/hls.min.js"></script>
  <script>
/* ===========================================================
   ONLY open, HTTPS FAST/FTA sports channels with fallbacks.
   If the first URL errors, the player auto-tries the next.
   =========================================================== */
const CHANNELS = [
  { name: "Stadium", urls: [
    "https://apollo.production-public.tubi.io/live/ac-stadium2.m3u8"
  ]},
  { name: "Pac-12 Insider", urls: [
    "https://pac12-firetv.amagi.tv/playlist.m3u8"
  ]},
  { name: "SportsGrid", urls: [
    "https://amg00315-sportsgrid-firetv.amagi.tv/playlist.m3u8",
    "https://sportsgrid-plex.amagi.tv/playlist.m3u8"
  ]},
  { name: "Fubo Sports Network", urls: [
    "https://apollo.production-public.tubi.io/live/ac-fubo.m3u8",
    "https://dai2.xumo.fubo.tv/amagi_hls_data_xumo1212A-fubo-cdn/master.m3u8"
  ]},
  { name: "Whistle TV", urls: [
    "https://whistletv-tcl.amagi.tv/playlist.m3u8"
  ]},
  { name: "Origin Sports", urls: [
    "https://raycoms-originsports.amagi.tv/playlist.m3u8"
  ]},
  { name: "PlayersTV", urls: [
    "https://playerstv.amagi.tv/playlist.m3u8",
    "https://playerstv-roku-us.amagi.tv/playlist.m3u8"
  ]},
  { name: "Racing America", urls: [
    "https://racingamerica.amagi.tv/playlist.m3u8",
    "https://racingamerica-plex.amagi.tv/playlist.m3u8"
  ]},
  { name: "EDGEsport", urls: [
    "https://edgesports-sportstribal.amagi.tv/playlist.m3u8"
  ]},
  { name: "Unbeaten TV", urls: [
    "https://unbeaten-tcl.amagi.tv/playlist.m3u8",
    "https://inverleigh-unbeaten-redbox.amagi.tv/playlist.m3u8"
  ]},
  { name: "Trace Sportstars", urls: [
    "https://trace-sportstars-tcl.amagi.tv/playlist.m3u8"
  ]},
  { name: "MTRSPT1 (Motorsports)", urls: [
    "https://cdn-uw2-prod.tsv2.amagi.tv/linear/amg02873-kravemedia-mtrspt1-distrotv/playlist.m3u8"
  ]},
  { name: "Right Now TV", urls: [
    "https://2-fss-1.streamhoster.com/pl_154/amlst:205448-2145652/rightnowtv.m3u8"
  ]},
  { name: "TVS Sports", urls: [
    "https://rpn.bozztv.com/gusa/gusa-tvssports/index.m3u8"
  ]},
  { name: "TVS Classic Sports", urls: [
    "https://rpn.bozztv.com/gusa/gusa-tvs/index.m3u8"
  ]},
  { name: "TVS Bowling Network", urls: [
    "https://rpn.bozztv.com/gusa/gusa-tvsbowling/index.m3u8"
  ]},
  { name: "Game+", urls: [
    "https://a-cdn.klowdtv.com/live2/fntsy_720p/playlist.m3u8"
  ]},
  { name: "FITE 24/7", urls: [
    "https://d3d85c7qkywguj.cloudfront.net/scheduler/scheduleMaster/263.m3u8"
  ]},
  { name: "Hard Knocks (Combat)", urls: [
    "https://d3uyzhwvmemdyf.cloudfront.net/v1/master/9d062541f2ff39b5c0f48b743c6411d25f62fc25/Hard-Knocks-DistroTV/109.m3u8"
  ]},
  { name: "NHRA TV", urls: [
    "https://apollo.production-public.tubi.io/live/ac-nhra.m3u8"
  ]},
  { name: "FUEL TV", urls: [
    "https://amg01074-fueltv-amg01074c1-firetv-us-3150.playouts.now.amagi.tv/playlist.m3u8"
  ]},
  { name: "Outside TV", urls: [
    "https://outsidetv-oando.amagi.tv/playlist.m3u8"
  ]},
  { name: "Outside Adventure", urls: [
    "https://outside-adventure.amagi.tv/playlist.m3u8"
  ]},
  { name: "Waypoint TV", urls: [
    "https://waypointtv-lg-us.amagi.tv/playlist.m3u8",
    "https://waypoint-waypointtv-firetv.amagi.tv/playlist.m3u8"
  ]},
  { name: "Wired2Fish", urls: [
    "https://wire2fish-klowdtv.amagi.tv/playlist.m3u8"
  ]},
  { name: "World Poker Tour", urls: [
    "https://stream-us-east-1.getpublica.com/playlist.m3u8?network_id=1346"
  ]},
  { name: "Glory Kickboxing", urls: [
    "https://glory-kickboxing.amagi.tv/playlist.m3u8"
  ]},
  { name: "Fight Network", urls: [
    "https://d12a2vxqkkh1bo.cloudfront.net/hls/1080p/playlist.m3u8"
  ]},
  { name: "Edge Sports+", urls: [
    "https://edgesportsplus.amagi.tv/playlist.m3u8"
  ]},
  { name: "Sports Nation Live", urls: [
    "https://sportsnation.amagi.tv/playlist.m3u8"
  ]},
  { name: "Overtime Elite Basketball", urls: [
    "https://overtime-elite.amagi.tv/playlist.m3u8"
  ]},
  { name: "Lax Sports Network", urls: [
    "https://laxsportsnetwork.akamaized.net/hls/live/2005520/laxsportsnetwork/master.m3u8"
  ]},
  { name: "Surf World TV", urls: [
    "https://alchimie-surfworldtv-lg.amagi.tv/playlist.m3u8"
  ]},
  { name: "MotoSport TV", urls: [
    "https://alchimie-motosport-tv-rakuten.amagi.tv/playlist.m3u8"
  ]},
  { name: "MMA TV", urls: [
    "https://alchimie-mmatv-samsung.amagi.tv/playlist.m3u8"
  ]},
  { name: "Xtreme Action Sports", urls: [
    "https://xtreme-action.amagi.tv/playlist.m3u8"
  ]},
  { name: "The Surf Channel", urls: [
    "https://surfchannel.amagi.tv/playlist.m3u8"
  ]},
  { name: "Red Bull TV", urls: [
    "https://3ea22335.wurl.com/master/f36d25e7e52f1ba8d7e56eb859c636563214f541/UmFrdXRlblRWLWdiX1JlZEJ1bGxUVl9ITFM/playlist.m3u8"
  ]}
];

// ---------- UI ----------
const sel  = document.getElementById('channelList');
const info = document.getElementById('info');
const video= document.getElementById('player');

CHANNELS.forEach((c, i) => {
  const o = document.createElement('option');
  o.value = i;
  o.textContent = c.name;
  sel.appendChild(o);
});

let hls, currentIdx = 0, urlIdx = 0;

function destroy(){ if(hls){ hls.destroy(); hls=null; } video.removeAttribute('src'); video.load(); }

function playChannel(idx, tryIndex=0){
  currentIdx = idx; urlIdx = tryIndex;
  const chan = CHANNELS[idx];
  const url  = chan.urls[tryIndex];
  info.textContent = `Loading ${chan.name}${tryIndex?` (alt ${tryIndex+1})`:''}‚Ä¶`;
  info.classList.remove('bad');
  destroy();

  if (Hls.isSupported()){
    hls = new Hls({ maxBufferLength: 20 });
    hls.loadSource(url);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED, ()=>{ video.play().catch(()=>{}); info.textContent='Playing'; });
    hls.on(Hls.Events.ERROR, (_,data)=>{
      // Try the next mirror if available
      if (tryIndex + 1 < chan.urls.length) {
        playChannel(idx, tryIndex + 1);
      } else {
        info.textContent = `HLS error on ${chan.name}: ${data.details || 'unknown'}`;
        info.classList.add('bad');
      }
    });
  } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
    video.src = url;
    video.play().then(()=> info.textContent='Playing').catch(()=>{ info.textContent='Tap ‚ñ∂ to start'; });
  } else {
    info.textContent = 'HLS not supported in this browser'; info.classList.add('bad');
  }
}

document.getElementById('playBtn').addEventListener('click', ()=> playChannel(parseInt(sel.value || "0",10)));
sel.addEventListener('change', ()=> playChannel(parseInt(sel.value || "0",10)));

if (CHANNELS.length){ sel.value = "0"; playChannel(0); } else { info.textContent = 'No channels loaded'; info.classList.add('bad'); }
  </script>
</body>
</html>
